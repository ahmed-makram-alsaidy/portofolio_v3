<!DOCTYPE html>
<html lang="ar" dir="rtl" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="portfolioTitle">Ahmed Makram | Founder of Mandobi</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="icon" href="ahmed.png" type="image/png">

    <style>
        :root {
            --linkedin-blue: #0A66C2;
            --linkedin-bg: #F3F2EF;
            --card-bg: #FFFFFF;
            --text-main: #191919;
            --text-sub: #666666;
        }
        body {
            font-family: 'Cairo', 'Inter', sans-serif;
            background-color: var(--linkedin-bg);
            color: var(--text-main);
        }
        .text-linkedin { color: var(--linkedin-blue); }
        .bg-linkedin { background-color: var(--linkedin-blue); }
        .hover-bg-linkedin:hover { background-color: #004182; }
        
        /* Card Styling */
        .li-card {
            background-color: var(--card-bg);
            border-radius: 0.5rem; /* 8px */
            box-shadow: 0 0 0 1px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.05);
            overflow: hidden;
            margin-bottom: 1rem;
        }

        /* Cover Photo Pattern */
        .cover-photo {
            background: rgb(10,102,194);
            background: linear-gradient(135deg, rgba(10,102,194,1) 0%, rgba(0,65,130,1) 100%);
            height: 140px;
            width: 100%;
            position: relative;
        }
        
        .profile-img-container {
            width: 152px;
            height: 152px;
            border-radius: 50%;
            border: 4px solid white;
            position: absolute;
            top: 60px;
            right: 24px; /* RTL default */
            overflow: hidden;
            background: white;
            z-index: 10;
        }
        html[dir="ltr"] .profile-img-container {
            right: auto;
            left: 24px;
        }

        /* Button Styles */
        .btn-primary {
            background-color: var(--linkedin-blue);
            color: white;
            border-radius: 9999px;
            padding: 0.4rem 1.2rem;
            font-weight: 600;
            transition: all 0.2s;
        }
        .btn-primary:hover { background-color: #004182; }
        
        .btn-outline {
            background-color: transparent;
            color: var(--linkedin-blue);
            border: 1px solid var(--linkedin-blue);
            border-radius: 9999px;
            padding: 0.4rem 1.2rem;
            font-weight: 600;
            transition: all 0.2s;
        }
        .btn-outline:hover {
            background-color: rgba(10, 102, 194, 0.1);
            box-shadow: inset 0 0 0 1px var(--linkedin-blue);
        }

        /* Timeline for Experience - FIXED */
        .exp-item::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e5e7eb;
            /* Center relative to w-12 (48px) icon: 48/2 = 24px. Line width 2px. So 23px from edge */
            right: 23px; 
            z-index: 0; /* Line sits at level 0 */
        }
        html[dir="ltr"] .exp-item::before { 
            right: auto; 
            left: 23px; 
        }
        
        /* Skills Tags */
        .skill-tag {
            background-color: #F3F2EF;
            color: #666666;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
            transition: 0.3s;
        }
        .skill-tag:hover {
            background-color: #EBEBEB;
            color: var(--text-main);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* Video Styles */
        video {
            object-fit: cover;
            pointer-events: none; /* Disable interaction to prevent pausing/controls */
        }
    </style>
</head>
<body class="antialiased pt-20">

    <!-- Navbar -->
    <nav class="fixed top-0 inset-x-0 z-50 bg-white shadow-sm h-16 transition-all duration-300">
        <div class="container mx-auto px-4 h-full flex items-center justify-between max-w-7xl">
            <div class="flex items-center gap-4">
                <!-- Search Bar Aesthetic -->
                <div class="hidden md:flex items-center bg-blue-50 px-3 py-2 rounded-md w-64">
                    <i class="fas fa-search text-gray-500 text-sm"></i>
                    <span class="mx-2 text-gray-500 text-sm" data-lang-key="searchPlaceholder">Search...</span>
                </div>
            </div>

            <div class="flex items-center gap-1 sm:gap-6 text-gray-500 text-xs sm:text-sm font-medium">
                <a href="#home" class="flex flex-col items-center hover:text-gray-900 transition gap-1 group">
                    <i class="fas fa-home text-lg sm:text-xl group-hover:text-black"></i>
                    <span class="hidden sm:block" data-lang-key="navHome">Home</span>
                </a>
                <a href="#about" class="flex flex-col items-center hover:text-gray-900 transition gap-1 group">
                    <i class="fas fa-user text-lg sm:text-xl group-hover:text-black"></i>
                    <span class="hidden sm:block" data-lang-key="navAbout">About</span>
                </a>
                <a href="#projects" class="flex flex-col items-center hover:text-gray-900 transition gap-1 group">
                    <i class="fas fa-briefcase text-lg sm:text-xl group-hover:text-black"></i>
                    <span class="hidden sm:block" data-lang-key="navProjects">Projects</span>
                </a>
                <a href="#comments" class="flex flex-col items-center hover:text-gray-900 transition gap-1 group">
                    <i class="fas fa-comment-dots text-lg sm:text-xl group-hover:text-black"></i>
                    <span class="hidden sm:block" data-lang-key="navComments">Comments</span>
                </a>
                
                <div class="border-l border-gray-300 h-8 mx-1 hidden sm:block rtl:border-r rtl:border-l-0"></div>

                <select id="language-toggle" class="bg-transparent text-gray-600 font-semibold cursor-pointer focus:outline-none hover:text-black">
                    <option value="ar">العربية</option>
                    <option value="en">English</option>
                </select>
            </div>
        </div>
    </nav>

    <!-- Main Layout -->
    <main class="container mx-auto px-0 sm:px-4 max-w-7xl grid grid-cols-1 lg:grid-cols-12 gap-6 pb-12">
        
        <!-- Left Sidebar (Profile) -->
        <aside class="lg:col-span-3 lg:col-start-1" data-aos="fade-up">
            <!-- Profile Card -->
            <div id="home" class="li-card relative pb-4">
                <div class="cover-photo"></div>
                <div class="profile-img-container cursor-pointer shadow-md">
                    <img src="ahmed.png" alt="Ahmed Makram" class="w-full h-full object-cover">
                </div>
                
                <div class="mt-16 px-4 pt-2">
                    <h1 class="text-2xl font-bold hover:underline cursor-pointer decoration-blue-600" data-lang-key="heroName">Ahmed Makram El-Saeedy</h1>
                    <p class="text-sm mt-1 leading-relaxed text-gray-700" id="hero-headline"></p>
                    
                    <p class="text-xs text-gray-500 mt-3 font-medium">
                        <span data-lang-key="location">Egypt</span> &middot; 
                        <a href="#contact" class="text-linkedin hover:underline font-bold" data-lang-key="contactInfoBtn">Contact Info</a>
                    </p>

                    <div class="mt-4 flex flex-wrap gap-2">
                        <a href="#contact" class="btn-primary flex-1 text-center text-sm flex items-center justify-center" data-lang-key="openToWork">Open to work</a>
                        <a href="cv.html" target="_blank" class="btn-outline flex-1 text-center text-sm flex items-center justify-center" data-lang-key="moreBtn">CV</a>
                    </div>
                </div>
            </div>

            <!-- Skills Card (Sidebar) -->
            <div class="li-card p-4 hidden lg:block sticky top-20">
                <h3 class="font-bold mb-4 text-sm" data-lang-key="skillsTitle">Top Skills</h3>
                <div class="flex flex-wrap gap-2" id="sidebar-skills">
                    <!-- Skills injected by JS -->
                </div>
                <div class="border-t mt-4 pt-3 text-center">
                    <a href="#about" class="text-sm text-gray-500 hover:text-black font-semibold" data-lang-key="showAllSkills">Show all skills <i class="fas fa-arrow-right mx-1"></i></a>
                </div>
            </div>
        </aside>

        <!-- Center Feed (Main Content) -->
        <section class="lg:col-span-9" data-aos="fade-up" data-aos-delay="100">
            
            <!-- About Section -->
            <div id="about" class="li-card p-6 sm:p-8">
                <div class="flex justify-between items-start mb-4">
                    <h2 class="text-xl font-bold" data-lang-key="aboutTitle">About</h2>
                </div>
                <p class="text-sm sm:text-base leading-relaxed text-gray-800 whitespace-pre-line" id="about-text">
                    <!-- Text injected by JS -->
                </p>
            </div>

            <!-- Experience Section -->
            <div id="experience" class="li-card p-6 sm:p-8">
                <h2 class="text-xl font-bold mb-6" data-lang-key="experienceTitle">Experience</h2>
                <div id="experience-list" class="space-y-2">
                    <!-- JS Injection -->
                </div>
            </div>

            <!-- Projects Section -->
            <div id="projects" class="li-card p-6 sm:p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold" data-lang-key="projectsTitle">Featured Projects</h2>
                    <a href="https://github.com/devahmed4965" target="_blank" class="text-linkedin font-semibold text-sm hover:underline">GitHub <i class="fas fa-external-link-alt ml-1"></i></a>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4" id="projects-grid">
                    <!-- JS Injection -->
                </div>
            </div>

            <!-- Certificates Gallery (New Grid Layout) -->
            <div id="certificates" class="li-card p-6 sm:p-8">
                 <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold" data-lang-key="certificatesTitle">Licenses & Certifications</h2>
                    <a href="certificates-gallery.html" class="btn-outline text-xs px-3 py-1" data-lang-key="showAllCerts">Show all</a>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4" id="certificates-grid">
                     <!-- JS Injection -->
                </div>
            </div>

            <!-- Comments Section (Supabase Integration) -->
            <div id="comments" class="li-card p-6 sm:p-8">
                <h2 class="text-xl font-bold mb-6" data-lang-key="commentsTitle">Recommendations & Comments</h2>
                
                <!-- Comment Form -->
                <form id="comment-form" class="mb-8 bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h3 class="text-sm font-bold text-gray-700 mb-3" data-lang-key="leaveComment">Leave a comment</h3>
                    <div class="mb-3">
                        <input type="text" id="comment-name" placeholder="Your Name" required class="w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition">
                    </div>
                    <div class="mb-3">
                        <textarea id="comment-body" placeholder="Write your recommendation..." rows="3" required class="w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition"></textarea>
                    </div>
                    <button type="submit" class="btn-primary text-xs px-4 py-2" data-lang-key="postCommentBtn">Post</button>
                </form>
            
                <!-- Comments List -->
                <div id="comments-list" class="space-y-4">
                    <p class="text-gray-500 text-center text-sm">Loading comments...</p>
                </div>
            </div>

            <!-- Voice Over Section -->
             <div id="voice-work" class="li-card p-6 sm:p-8">
                <h2 class="text-xl font-bold mb-6" data-lang-key="voiceWorkTitle">Voice Over Samples</h2>
                <div class="grid md:grid-cols-2 gap-4" id="voice-grid">
                    <!-- JS Injection -->
                </div>
            </div>

            <!-- Contact Section -->
            <div id="contact" class="li-card p-6 sm:p-8 bg-blue-50 border-none">
                 <h2 class="text-xl font-bold mb-2" data-lang-key="contactTitle">Contact Me</h2>
                 <p class="text-sm text-gray-600 mb-6" data-lang-key="contactSub">Feel free to reach out for collaborations or opportunities.</p>
                 
                 <div class="flex flex-wrap gap-4 sm:gap-8">
                    <a href="mailto:dev.ahmed.alsaidy@gmail.com" class="flex items-center gap-2 text-gray-700 hover:text-linkedin font-medium">
                        <i class="fas fa-envelope text-xl"></i> <span>Email Me</span>
                    </a>
                    <a href="https://wa.me/+201006409514" target="_blank" class="flex items-center gap-2 text-gray-700 hover:text-green-600 font-medium">
                        <i class="fab fa-whatsapp text-xl"></i> <span>WhatsApp</span>
                    </a>
                    <a href="https://www.linkedin.com/in/ahmed-makram-835874264/" target="_blank" class="flex items-center gap-2 text-gray-700 hover:text-linkedin font-medium">
                        <i class="fab fa-linkedin text-xl"></i> <span>LinkedIn</span>
                    </a>
                 </div>
            </div>

        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t py-6 mt-8">
        <div class="container mx-auto text-center px-4">
            <img src="ahmed.png" class="w-8 h-8 rounded-full mx-auto mb-2 border border-gray-200">
            <p class="text-sm text-gray-600 font-bold mb-2">Ahmed Makram El-Saeedy</p>
            <p class="text-xs text-gray-500" data-lang-key="footerRights">&copy; 2025. All rights reserved.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // --- Supabase Config ---
        const supabaseUrl = 'https://puvvuyeqiwsbeilamvnh.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB1dnZ1eWVxaXdzYmVpbGFtdm5oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNjQ2NDgsImV4cCI6MjA3OTk0MDY0OH0.RlxcHihuCcJ60H0T030kcimkeHmqLNYGEtpxnRkaKmg';
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        // --- Data Objects ---
        const skills = ["HTML5", "CSS3", "JavaScript", "Python", "Django", "PostgreSQL", "Node.js", "MongoDB", "Graphic Design", "Voice Over", "Bootstrap"];
        
        // Full Experience Data - RESTORED AND UPDATED
        const experience = [
            { icon: "fas fa-user-tie", roleKey: "expMandobiRole", companyKey: "expMandobiComp", dateKey: "expMandobiDate", descKey: "expMandobiDesc", color: "text-blue-700" },
            { icon: "fas fa-undo", roleKey: "expAliensMgrRole", companyKey: "expAliensMgrComp", dateKey: "expAliensMgrDate", descKey: "expAliensMgrDesc", color: "text-red-600" },
            { icon: "fas fa-shipping-fast", roleKey: "expAliensOpsRole", companyKey: "expAliensOpsComp", dateKey: "expAliensOpsDate", descKey: "expAliensOpsDesc", color: "text-orange-500" },
            { icon: "fas fa-code", roleKey: "expGdscRole", companyKey: "expGdscComp", dateKey: "expGdscDate", descKey: "expGdscDesc", color: "text-blue-600" },
            { icon: "fas fa-hand-holding-heart", roleKey: "expLifeMakersRole", companyKey: "expLifeMakersComp", dateKey: "expLifeMakersDate", descKey: "expLifeMakersDesc", color: "text-green-600" },
            { icon: "fas fa-bullhorn", roleKey: "expEsscRole", companyKey: "expEsscComp", dateKey: "expEsscDate", descKey: "expEsscDesc", color: "text-teal-600" },
            { icon: "fas fa-eye", roleKey: "expVisionRole", companyKey: "expVisionComp", dateKey: "expVisionDate", descKey: "expVisionDesc", color: "text-purple-600" },
            { icon: "fas fa-hands-helping", roleKey: "expResalaRole", companyKey: "expResalaComp", dateKey: "expResalaDate", descKey: "expResalaDesc", color: "text-yellow-600" },
            { icon: "fas fa-laptop-code", roleKey: "expProgrammingRole", companyKey: "expProgrammingComp", dateKey: "expProgrammingDate", descKey: "expProgrammingDesc", color: "text-gray-700" },
            { icon: "fas fa-graduation-cap", roleKey: "expMicrobiologyRole", companyKey: "expMicrobiologyComp", dateKey: "expMicrobiologyDate", descKey: "expMicrobiologyDesc", color: "text-indigo-600" }
        ];

        // Full Projects Data - RESTORED AND FIXED VIDEOS
        const projects = [
            { img: "project1.png", titleKey: "project1Title", descKey: "project1Desc", link: "https://aliens-express.netlify.app/", isVideo: false },
            { img: "placeholder", titleKey: "project2Title", descKey: "project2Desc", link: "#", isVideo: true, videoSrc: "project (2).mp4" },
            { img: "placeholder", titleKey: "project3Title", descKey: "project3Desc", link: "#", isVideo: true, videoSrc: "project3.mp4" },
            { img: "placeholder", titleKey: "project4Title", descKey: "project4Desc", link: "https://www.microbiology-damanhour.free.nf/", isVideo: true, videoSrc: "project (4).mp4" },
            { img: "snaa.png", titleKey: "projectSanaTitle", descKey: "projectSanaDesc", link: "#", isVideo: false }
        ];

        const certificates = [
            "images/certificate (1).jpg", "images/certificate (3).jpg", "images/certificate (5).jpg", "images/certificate (9).jpg",
            "images/certificate (11).jpg", "images/certificate (12).jpg", "images/certificate (14).jpg", "images/certificate (16).jpg"
        ];

        const voiceWorks = [
            { img: "podcast.png", titleKey: "podcast1Title", audio: "audio/project (1).mp3" },
            { img: "podcast1.png", titleKey: "podcast2Title", audio: "audio/project (3).mp3" },
            { img: "podcast2.png", titleKey: "podcast3Title", audio: "audio/project (5).mp3" }
        ];

        const translations = {
            ar: {
                portfolioTitle: "أحمد مكرم | مؤسس Mandobi",
                searchPlaceholder: "بحث...",
                navHome: "الرئيسية", navAbout: "عني", navProjects: "المشاريع", navCertificates: "الشهادات", navComments: "التعليقات",
                heroName: "أحمد مكرم الصعيدي",
                heroHeadline: "مؤسس Mandobi | مطور Full-Stack | دمج العلم والمنطق والتصميم لتجارب رقمية سلسة | عضو في Google DSC",
                location: "دمنهور، مصر",
                contactInfoBtn: "معلومات الاتصال",
                openToWork: "متاح للعمل",
                moreBtn: "السيرة الذاتية",
                skillsTitle: "أبرز المهارات",
                showAllSkills: "عرض كل المهارات",
                aboutTitle: "نبذة عني",
                // Translation of the new bio
                aboutDesc: "مطور Full-Stack شغوف بالبناء في تقاطع التكنولوجيا والتصميم الإبداعي والتحليل العلمي.\n\nرحلتي في التكنولوجيا مدفوعة بمعتقد أساسي: أقوى الابتكارات تظهر عندما يلتقي البحث التحليلي بالحلول الإبداعية. خلفيتي الأكاديمية في علم الأحياء الدقيقة والكيمياء صقلت مهاراتي في حل المشكلات بشكل منهجي والاهتمام بالتفاصيل - وهي صفات أطبقها الآن في كتابة كود نظيف وفعال وقابل للتوسع.\n\nبصفتي عضوًا أساسيًا في نادي Google للطلبة المطورين (GDSC)، أساهم في مشاريع الويب والهاتف المحمول المؤثرة، محولًا التحديات المعقدة إلى تجارب بديهية تركز على المستخدم. أنا متخصص في بناء تطبيقات متكاملة باستخدام تقنيات حديثة مثل React و React Native و TypeScript. أتعلم باستمرار وأبحث عن فرص لاستغلال منظوري الفريد لبناء تكنولوجيا تحدث فرقًا.",
                experienceTitle: "الخبرات",
                projectsTitle: "أبرز المشاريع",
                certificatesTitle: "التراخيص والشهادات",
                showAllCerts: "عرض الكل",
                voiceWorkTitle: "نماذج التعليق الصوتي",
                contactTitle: "تواصل معي",
                contactSub: "لا تتردد في التواصل لمناقشة المشاريع أو الفرص.",
                footerRights: "© 2025. جميع الحقوق محفوظة.",
                commentsTitle: "التوصيات والتعليقات",
                leaveComment: "أترك تعليقاً",
                postCommentBtn: "نشر",
                
                // Experience Keys (All Restored & Updated)
                expMandobiRole: "مؤسس", expMandobiComp: "Mandobi · عمل خاص", expMandobiDate: "نوفمبر ٢٠٢٥ - الحالي", expMandobiDesc: "مصر",
                expAliensMgrRole: "مدير قسم المرتجعات", expAliensMgrComp: "Aliens Express · دوام كامل", expAliensMgrDate: "أغسطس ٢٠٢٥ - نوفمبر ٢٠٢٥", expAliensMgrDesc: "القاهرة، مصر",
                expAliensOpsRole: "عضو فريق العمليات", expAliensOpsComp: "Aliens Express · دوام كامل", expAliensOpsDate: "يوليو ٢٠٢٤ - يوليو ٢٠٢٥", expAliensOpsDesc: "أنشطة العمليات والدعم التشغيلي. القاهرة، مصر",
                expGdscRole: "عضو الفريق الأساسي", expGdscComp: "Google Developer Student Clubs", expGdscDate: "مارس ٢٠٢٤ - الحالي", expGdscDesc: "تطوير واجهات المستخدم والمساهمة في الأنشطة التقنية.",
                expLifeMakersRole: "متطوع", expLifeMakersComp: "مؤسسة صناع الحياة البحيرة", expLifeMakersDate: "مارس 2023 - الحالي", expLifeMakersDesc: "المشاركة في المبادرات التنموية والخيرية.",
                expEsscRole: "عضو إعلامي", expEsscComp: "ESSC", expEsscDate: "فبراير 2023 - الحالي", expEsscDesc: "تغطية فعاليات وأنشطة طلاب كليات العلوم.",
                expVisionRole: "عضو إعلامي", expVisionComp: "Vision Team", expVisionDate: "فبراير 2023 - الحالي", expVisionDesc: "إنتاج المحتوى الإعلامي.",
                expResalaRole: "متطوع", expResalaComp: "جمعية رسالة", expResalaDate: "يناير 2023 - الحالي", expResalaDesc: "المساهمة في الأنشطة الخيرية.",
                expProgrammingRole: "خبرة برمجية", expProgrammingComp: "عمل حر", expProgrammingDate: "2017 - الحالي", expProgrammingDesc: "تطوير تطبيقات الويب المتنوعة.",
                expMicrobiologyRole: "طالب (بكالوريوس علوم)", expMicrobiologyComp: "جامعة دمنهور", expMicrobiologyDate: "2022 - 2026", expMicrobiologyDesc: "قسم الميكروبيولوجي.",

                // Project Keys (Restored)
                project1Title: "نظام تتبع Aliens Express", project1Desc: "موقع ويب لشركة شحن مع نظام تتبع متكامل للعملاء.",
                project2Title: "إدارة مرتجعات المناديب", project2Desc: "سيستم متكامل لإدارة شحنات المناديب والمرتجعات.",
                project3Title: "تطبيقات أندرويد (Java)", project3Desc: "مجموعة تطبيقات تم تطويرها باستخدام Java و Android Studio.",
                project4Title: "بوابة الميكروبيولوجي", project4Desc: "منصة أكاديمية لرفع المحاضرات وتسهيل التواصل بين الطلاب.",
                projectSanaTitle: "منصة سنا الأكاديمية", projectSanaDesc: "منصة تعليمية تفاعلية لعلوم الدين واللغة.",
                
                podcast1Title: "إدارة الوقت بفعالية", podcast2Title: "أسرار الكون والإيمان", podcast3Title: "حديث عن الرسول"
            },
            en: {
                portfolioTitle: "Ahmed Makram | Founder of Mandobi",
                searchPlaceholder: "Search...",
                navHome: "Home", navAbout: "About", navProjects: "Projects", navCertificates: "Certificates", navComments: "Comments",
                heroName: "Ahmed Makram El-Saeedy",
                heroHeadline: "Founder of Mandobi | Full-Stack Developer | Merging Science, Logic & Design into Seamless Digital Experiences | Google DSC Member",
                location: "Damanhour, Egypt",
                contactInfoBtn: "Contact Info",
                openToWork: "Open to work",
                moreBtn: "Resume",
                skillsTitle: "Top Skills",
                showAllSkills: "Show all skills",
                aboutTitle: "About",
                aboutDesc: "Full-Stack Developer with a passion for building at the intersection of technology, creative design, and scientific analysis.\n\nMy journey into technology is driven by a core belief: the most powerful innovations emerge when analytical inquiry meets creative solutions. My academic background in Microbiology and Chemistry has honed my skills in systematic problem-solving and attention to detail—qualities I now apply to writing clean, efficient, and scalable code.\n\nAs a core team member at the Google Developer Student Club (GDSC), I contribute to impactful web and mobile projects, transforming complex challenges into intuitive, user-centric experiences. I specialize in building end-to-end applications using modern technologies like React, React Native, and TypeScript. I am continuously learning and seeking opportunities to leverage my unique perspective to build technology that makes a difference.",
                experienceTitle: "Experience",
                projectsTitle: "Featured Projects",
                certificatesTitle: "Licenses & Certifications",
                showAllCerts: "Show all",
                voiceWorkTitle: "Voice Over Samples",
                contactTitle: "Contact Me",
                contactSub: "Feel free to reach out for collaborations or opportunities.",
                footerRights: "© 2025. All rights reserved.",
                commentsTitle: "Recommendations & Comments",
                leaveComment: "Leave a comment",
                postCommentBtn: "Post",

                // Experience Keys (All Restored & Updated)
                expMandobiRole: "Founder", expMandobiComp: "Mandobi · Self-employed", expMandobiDate: "Nov 2025 - Present", expMandobiDesc: "Egypt",
                expAliensMgrRole: "Returns Department Manager", expAliensMgrComp: "Aliens Express · Full-time", expAliensMgrDate: "Aug 2025 - Nov 2025", expAliensMgrDesc: "Cairo, Egypt",
                expAliensOpsRole: "Operations Team Member", expAliensOpsComp: "Aliens Express · Full-time", expAliensOpsDate: "Jul 2024 - Jul 2025", expAliensOpsDesc: "Operations activities and Operational Support. Cairo, Egypt",
                expGdscRole: "Core Team Member", expGdscComp: "Google Developer Student Clubs", expGdscDate: "Mar 2024 - Present", expGdscDesc: "Contributing to impactful web and mobile projects.",
                expLifeMakersRole: "Volunteer", expLifeMakersComp: "Life Makers Foundation", expLifeMakersDate: "Mar 2023 - Present", expLifeMakersDesc: "Charity initiatives.",
                expEsscRole: "Media Member", expEsscComp: "ESSC", expEsscDate: "Feb 2023 - Present", expEsscDesc: "Media coverage for science students.",
                expVisionRole: "Media Member", expVisionComp: "Vision Team", expVisionDate: "Feb 2023 - Present", expVisionDesc: "Content creation.",
                expResalaRole: "Volunteer", expResalaComp: "Resala Charity", expResalaDate: "Jan 2023 - Present", expResalaDesc: "Community service.",
                expProgrammingRole: "Programming Experience", expProgrammingComp: "Freelance", expProgrammingDate: "2017 - Present", expProgrammingDesc: "Web application development.",
                expMicrobiologyRole: "B.Sc. Student", expMicrobiologyComp: "Damanhour University", expMicrobiologyDate: "2022 - 2026", expMicrobiologyDesc: "Microbiology Department.",

                // Project Keys (Restored)
                project1Title: "Aliens Express Tracking", project1Desc: "Shipping company website with integrated tracking system.",
                project2Title: "Courier Returns Management", project2Desc: "System for managing courier shipments and returns.",
                project3Title: "Android Apps (Java)", project3Desc: "Various mobile applications developed using Java & Android Studio.",
                project4Title: "Microbiology Portal", project4Desc: "Academic portal for material sharing and student access.",
                projectSanaTitle: "Sana Academy", projectSanaDesc: "Interactive educational platform for Islamic studies.",
                
                podcast1Title: "Effective Time Management", podcast2Title: "Secrets of Universe & Faith", podcast3Title: "Prophet Muhammad (PBUH)"
            }
        };

        // --- Render Functions ---
        function renderContent(lang) {
            const t = translations[lang];
            
            // Text Content Updates
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                if (t[key]) el.textContent = t[key];
            });

            document.getElementById('hero-headline').textContent = t.heroHeadline;
            document.getElementById('about-text').textContent = t.aboutDesc;

            // Render Skills
            const skillsContainer = document.getElementById('sidebar-skills');
            skillsContainer.innerHTML = skills.map(s => `<span class="skill-tag">${s}</span>`).join('');

            // Render Experience
            const expContainer = document.getElementById('experience-list');
            expContainer.innerHTML = experience.map((exp, idx) => `
                <div class="flex gap-4 mb-4 relative exp-item pb-4 last:pb-0 last:mb-0 last:before:hidden">
                    <div class="w-12 h-12 flex-shrink-0 bg-gray-100 rounded-full flex items-center justify-center text-xl ${exp.color} exp-icon-container relative z-10">
                        <i class="${exp.icon}"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-base text-gray-900">${t[exp.roleKey]}</h3>
                        <p class="text-sm text-gray-700">${t[exp.companyKey]}</p>
                        <p class="text-xs text-gray-500 mt-1">${t[exp.dateKey]}</p>
                        <p class="text-sm text-gray-600 mt-2 leading-snug">${t[exp.descKey]}</p>
                    </div>
                </div>
            `).join('');

            // Render Projects
            const projContainer = document.getElementById('projects-grid');
            projContainer.innerHTML = projects.map(p => `
                <div class="border rounded-lg overflow-hidden hover:shadow-md transition bg-white flex flex-col h-full">
                    <div class="h-48 bg-gray-100 overflow-hidden relative group">
                        ${p.isVideo 
                            ? `<video src="${p.videoSrc}" autoplay muted loop playsinline class="w-full h-full object-cover"></video>`
                            : `<img src="${p.img}" alt="Project" class="w-full h-full object-cover transition duration-500 group-hover:scale-110" onerror="this.src='https://placehold.co/600x400/0a66c2/ffffff?text=Project'">`
                        }
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h3 class="font-bold text-md mb-1"><a href="${p.link}" target="_blank" class="hover:underline decoration-blue-600">${t[p.titleKey]}</a></h3>
                        <p class="text-xs text-gray-600 mb-3 flex-grow">${t[p.descKey]}</p>
                        <a href="${p.link}" target="_blank" class="btn-outline text-xs text-center block w-full py-1">View Project</a>
                    </div>
                </div>
            `).join('');

            // Render Certificates
            const certContainer = document.getElementById('certificates-grid');
            certContainer.innerHTML = certificates.slice(0, 8).map(img => `
                <div class="border rounded-lg overflow-hidden bg-gray-50 aspect-[4/3] cursor-pointer hover:opacity-90 transition">
                    <img src="${img}" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/300x200/e0e0e0/666666?text=Cert'">
                </div>
            `).join('');

             // Render Voice Works
            const voiceContainer = document.getElementById('voice-grid');
            voiceContainer.innerHTML = voiceWorks.map(v => `
                <div class="border rounded-lg p-3 flex gap-3 items-center hover:bg-gray-50 transition">
                     <img src="${v.img}" class="w-16 h-16 rounded object-cover" onerror="this.src='https://placehold.co/100x100?text=Audio'">
                     <div class="flex-grow">
                        <h4 class="font-bold text-sm mb-1">${t[v.titleKey]}</h4>
                        <audio controls class="w-full h-8 max-w-[200px]">
                            <source src="${v.audio}" type="audio/mpeg">
                        </audio>
                     </div>
                </div>
            `).join('');
        }

        // --- Supabase Functions ---
        async function fetchComments() {
            const { data, error } = await supabase
                .from('comments')
                .select('*')
                .order('created_at', { ascending: false });
            
            const list = document.getElementById('comments-list');
            
            if (error) {
                console.error('Error fetching comments:', error);
                list.innerHTML = '<p class="text-red-500 text-center text-sm">Failed to load comments.</p>';
                return;
            }
            
            list.innerHTML = '';
            if (!data || data.length === 0) {
                list.innerHTML = '<p class="text-gray-500 text-center text-sm">No comments yet. Be the first!</p>';
                return;
            }

            data.forEach(comment => {
                const div = document.createElement('div');
                div.className = 'border-b border-gray-100 pb-3 mb-3 last:border-0 last:pb-0 last:mb-0';
                
                // Sanitization
                const name = comment.name ? comment.name.replace(/</g, "&lt;").replace(/>/g, "&gt;") : 'Anonymous';
                const content = comment.content ? comment.content.replace(/</g, "&lt;").replace(/>/g, "&gt;") : '';
                const date = new Date(comment.created_at).toLocaleDateString();
                
                div.innerHTML = `
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold text-sm">
                            ${name.charAt(0).toUpperCase()}
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between items-baseline">
                                <h4 class="font-bold text-sm text-gray-900">${name}</h4>
                                <span class="text-xs text-gray-400">${date}</span>
                            </div>
                            <p class="text-sm text-gray-700 mt-1">${content}</p>
                        </div>
                    </div>
                `;
                list.appendChild(div);
            });
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init();
            const langToggle = document.getElementById('language-toggle');
            
            // Initial Render
            const savedLang = localStorage.getItem('portfolioLang') || 'ar';
            langToggle.value = savedLang;
            document.documentElement.lang = savedLang;
            document.documentElement.dir = savedLang === 'ar' ? 'rtl' : 'ltr';
            renderContent(savedLang);
            fetchComments();

            // Language Change Listener
            langToggle.addEventListener('change', (e) => {
                const lang = e.target.value;
                document.documentElement.lang = lang;
                document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
                localStorage.setItem('portfolioLang', lang);
                renderContent(lang);
            });

            // Comment Form Submit
            document.getElementById('comment-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const nameInput = document.getElementById('comment-name');
                const bodyInput = document.getElementById('comment-body');
                const btn = e.target.querySelector('button');
                const originalText = btn.textContent;
                
                btn.disabled = true;
                btn.textContent = '...';

                const { error } = await supabase
                    .from('comments')
                    .insert([{ name: nameInput.value, content: bodyInput.value }]);

                btn.disabled = false;
                btn.textContent = originalText;

                if (error) {
                    alert('Error posting comment: ' + error.message);
                } else {
                    nameInput.value = '';
                    bodyInput.value = '';
                    fetchComments(); // Refresh list
                }
            });
        });
    </script>
</body>
</html>
